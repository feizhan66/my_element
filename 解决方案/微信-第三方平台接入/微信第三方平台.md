# 微信第三方平台

1. 第三方平台方获取预授权码（pre_auth_code）
 - 预授权码是第三方平台方实现授权托管的必备信息，可以通过本文下文中的获取预授码接口来获取预授权码。

2. 引入用户进入授权页
 - 第三方平台方可以在自己的网站:中放置“微信公众号授权”或者“小程序授权”的入口，引导公众号和小程序管理员进入授权页。授权页网址为https://mp.weixin.qq.com/cgi-bin/componentloginpage?component_appid=xxxx&pre_auth_code=xxxxx&redirect_uri=xxxx&auth_type=xxx。

3. 用户确认并同意登录授权给第三方平台方
 - 用户进入第三方平台授权页后，需要确认并同意将自己的公众号或小程序授权给第三方平台方，完成授权流程。

4. 授权后回调URI，得到授权码（authorization_code）和过期时间
 - 授权流程完成后，授权页会自动跳转进入回调URI，并在URL参数中返回授权码和过期时间(redirect_url?auth_code=xxx&expires_in=600)

5. 利用授权码调用公众号或小程序的相关API
 - 在得到授权码后，第三方平台方可以使用授权码换取授权公众号或小程序的接口调用凭据（authorizer_access_token，也简称为令牌），再通过该接口调用凭据，按照公众号开发者文档或小程序开发文档的说明，去调用公众号或小程序相关API（能调用哪些API，取决于用户将哪些权限集授权给了第三方平台方，也取决于公众号或小程序自身拥有哪些接口权限），使用JS SDK等能力。具体请见【公众号第三方平台的接口说明】













